<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Special Birthday Question Game</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to right, #f8c8d7, #f6b8b8);
      color: #fff;
      text-align: center;
      padding: 20px;
    }

    h1 {
      font-size: 3em;
      color: #ff80ab;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      margin-bottom: 20px;
      font-family: 'Dancing Script', cursive;
    }

    .container {
      margin: 40px auto;
      max-width: 600px;
      padding: 30px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.2);
    }

    input, button, textarea {
      padding: 12px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 8px;
      border: 2px solid #ff80ab;
      width: 100%;
      background-color: #fff;
      color: #ffffff;
      transition: all 0.3s ease;
    }

    input:focus, button:hover, textarea:focus {
      background-color: #ff80ab;
      color: rgb(174, 0, 255);
      border-color: #ff4081;
    }

    button {
      background-color: #ff80ab;
      border: none;
      cursor: pointer;
      font-size: 18px;
    }

    .question {
      font-size: 24px;
      color: #ff4081;
      margin-bottom: 20px;
    }

    .timer {
      font-size: 24px;
      margin: 10px 0;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.3);
    }

    .answer-section {
      margin-top: 30px;
      display: none;
    }

    /* Heart Emoji Styling */
    #heart-icons {
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 3em;
      color: #800080; /* Purple */
      animation: float 3s ease-in-out infinite, sparkle 1s linear infinite;
    }

    

    .heart-icon {
      margin: 0 5px;
      display: inline-block;
      text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 15px #ff00ff;
    }

    @keyframes float {
      0% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-20px) scale(1.2); }
      100% { transform: translateY(0) scale(1); }
    }

    @keyframes sparkle {
      0% { text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 15px #ff00ff; }
      50% { text-shadow: 0 0 8px #ff00ff, 0 0 16px #ff00ff, 0 0 24px #ff00ff; }
      100% { text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 15px #ff00ff; }
    }

    #hearts-counter {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 3em;
      color: #ff4081;
      font-weight: bold;
    }

    .history {
      margin-top: 40px;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 10px;
      max-height: 300px;
      overflow-y: auto;
      text-align: left;
    }

    .history h3 {
      font-size: 22px;
      color: #ff80ab;
      margin-bottom: 15px;
    }

    .history-item {
      margin-bottom: 15px;
      padding: 10px;
      border-bottom: 1px solid #ff4081;
    }

    .history-item .question {
      font-weight: bold;
      color: #ff4081;
    }

    .history-item .answer {
      font-style: italic;
      color: #fff;
    }

    .turn-status {
      font-size: 18px;
      font-weight: bold;
      color: #ff4081;
      margin-top: 20px;
    }

    /* New Section for Custom Question */
    .custom-question-section {
      display: none;
      margin-top: 20px;
      text-align: center;
    }

    .custom-question-section input {
      width: 80%;
      padding: 10px;
    }

    .custom-question-section button {
      background-color: #ff4081;
      color: #fff;
      border-radius: 5px;
      padding: 10px 20px;
      cursor: pointer;
      margin-top: 10px;
    }

    @media (max-width: 768px) {
        #heart-icons {
    display: none;
  }
  #uploadPic{
    display: none;
  }
}

  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Heart Emojis -->
  <div id="heart-icons">
    <span class="heart-icon">❤️</span>
    <span class="heart-icon">❤️</span>
    <span class="heart-icon">❤️</span>
  </div>

  <!-- Heart Counter -->
  <div id="hearts-counter">Hearts: 0</div>

  <div class="container" id="game-container" style="display: none;">
    <h1>I MADE THIS FOR US I LOVE YOUUU!!!</h1>
    <p>Answer these questions and share your thoughts with each other!</p>

    <!-- Turn Status Display -->
    <p id="turnStatus" class="turn-status">It's Player 1's turn</p>

    <!-- Question and Answer Section -->
    <div class="question-section">
      <p id="question" class="question"></p>
      <textarea id="answer" placeholder="Write your answer here..."></textarea>
      <button id="submitAnswer">Submit Answer</button>
    </div>

    <!-- Timer section -->
    <div class="timer-section">
      <p class="timer" id="timer">Time left: 60:00</p>
    </div>

    <!-- Custom Question Section -->
    <div class="custom-question-section">
      <h3>Want to create your own question?</h3>
      <p>It will cost you 25 hearts.</p>
      <input type="text" id="customQuestion" placeholder="Enter your custom question" />
      <button id="submitCustomQuestion">Submit Custom Question</button>
    </div>

    <!-- History Section -->
    <div class="history">
      <h3>Previous Questions & Answers</h3>
      <div id="historyList"></div>
    </div>

    <!-- Answer Section -->
    <div class="answer-section">
      <h2>Answer:</h2>
      <p id="displayAnswer"></p>
    </div>

    <!-- Picture Upload Section (Updated for Camera) -->
    <div class="picture-section">
      <h2>It's time for Player 2 to take a picture!</h2>
      <input type="file" id="uploadPic" accept="image/*" capture="camera" />
      <button id="submitPic">Submit Picture</button>
    </div>
  </div>

  <div class="container" id="code-container">
    <h1>Enter Your Special Code</h1>
    <label for="code">Please enter your special code to begin:</label>
    <input type="text" id="code" placeholder="Enter special code here" />
    <button id="codeSubmit">Submit Code</button>
  </div>

  <script>
    const questions = [
      "What is your favorite memory together?",
      "What is something you love about me?",
      "What makes you happy when we are together?",
      "What is something you want to do together in the future?"
    ];

    let currentQuestionIndex = 0;
    let currentPlayer = null; // Player 1 or 2
    const specialCodePlayer1 = "LOVE123"; // Player 1's code
    const specialCodePlayer2 = "FOREVER456"; // Player 2's code
    let currentCode = null; // Holds current code entered
    let isCodeCorrect = false;
    let timeLeft = 3600; // 60 minutes in seconds
    let timerInterval;
    let history = []; // To store questions and answers
    let answerSubmittedTime = null;
    let hearts = 0; // Counter for hearts

    const questionElem = document.getElementById("question");
    const answerElem = document.getElementById("answer");
    const submitAnswerButton = document.getElementById("submitAnswer");
    const timerElem = document.getElementById("timer");
    const displayAnswerElem = document.getElementById("displayAnswer");
    const answerSection = document.querySelector(".answer-section");
    const codeInput = document.getElementById("code");
    const codeSubmitButton = document.getElementById("codeSubmit");
    const historyList = document.getElementById("historyList");
    const gameContainer = document.getElementById("game-container");
    const codeContainer = document.getElementById("code-container");
    const turnStatusElem = document.getElementById("turnStatus");
    const pictureSection = document.querySelector(".picture-section");
    const uploadPic = document.getElementById("uploadPic");
    const submitPicButton = document.getElementById("submitPic");
    const heartsCounterElem = document.getElementById("hearts-counter");
    const customQuestionSection = document.querySelector(".custom-question-section");
    const customQuestionInput = document.getElementById("customQuestion");
    const submitCustomQuestionButton = document.getElementById("submitCustomQuestion");

    // Initialize the first question
    questionElem.innerText = questions[currentQuestionIndex];

    // Check if the user has already entered the correct code
    if (localStorage.getItem("playerCode") && localStorage.getItem("playerCode") !== "null") {
      isCodeCorrect = true;
      currentCode = localStorage.getItem("playerCode");
      currentPlayer = currentCode === specialCodePlayer1 ? 1 : 2;
      codeContainer.style.display = "none";
      gameContainer.style.display = "block";
      updateTurnStatus();
      startTimer();
    }

    // Timer function
    function startTimer() {
      timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          alert("Time's up! Next player's turn.");
          nextTurn();
        } else {
          timeLeft--;
          const minutes = Math.floor(timeLeft / 60);
          const seconds = timeLeft % 60;
          timerElem.innerText = `Time left: ${minutes}:${seconds < 10 ? "0" + seconds : seconds}`;
        }
      }, 1000);
    }

    function updateHistory(question, answer) {
  const historyItem = document.createElement("div");
  historyItem.classList.add("history-item");
  historyItem.innerHTML = `
    <p class="question">${question}</p>
    <p class="answer">${answer}</p>
  `;
  historyList.appendChild(historyItem);
}

function nextTurn() {
  // Switch to the next player
  currentPlayer = currentPlayer === 1 ? 2 : 1;

  // Update the turn status display
  if (currentPlayer === 1) {
    turnStatusElem.innerText = "It's Player 1's turn";
  } else {
    turnStatusElem.innerText = "It's Player 2's turn";
  }

  // Clear the answer field and enable the button for the next player
  answerElem.value = "";
  answerElem.disabled = false;
  submitAnswerButton.disabled = false;

  // Move to the next question
  currentQuestionIndex = (currentQuestionIndex + 1) % questions.length;
  questionElem.innerText = questions[currentQuestionIndex];
}

    // Update turn status
    function updateTurnStatus() {
      if (currentPlayer === 1) {
        turnStatusElem.innerText = "It's Player 1's turn";
      } else {
        turnStatusElem.innerText = "It's Player 2's turn";
      }
    }

    // Handle answer submission
    submitAnswerButton.addEventListener("click", () => {
      const answer = answerElem.value.trim();
      if (answer) {
        const question = questions[currentQuestionIndex];
        updateHistory(question, answer);
        answerSection.style.display = "block";
        displayAnswerElem.innerText = answer;
        answerElem.disabled = true;
        hearts += 5; // Add 5 hearts for answering
        heartsCounterElem.innerText = `Hearts: ${hearts}`;
        nextTurn();
      }
    });

    // Handle custom question submission
    submitCustomQuestionButton.addEventListener("click", () => {
      if (hearts >= 25) {
        const customQuestion = customQuestionInput.value.trim();
        if (customQuestion) {
          questions.push(customQuestion);
          hearts -= 25; // Subtract 25 hearts for custom question
          heartsCounterElem.innerText = `Hearts: ${hearts}`;
          customQuestionSection.style.display = "none";
          alert("Your custom question has been added!");
        } else {
          alert("Please enter a question.");
        }
      } else {
        alert("You need at least 25 hearts to submit a custom question.");
      }
    });

    // Handle picture submission
    submitPicButton.addEventListener("click", () => {
      if (uploadPic.files.length > 0) {
        alert("Picture taken successfully!");
      } else {
        alert("Please take a picture with your camera.");
      }
    });

    // Show the custom question section when the player has 25 hearts
    if (hearts >= 25) {
      customQuestionSection.style.display = "block";
    }
  </script>
</body>
</html>
